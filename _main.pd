#N canvas 495 25 1140 830 12;
#X obj 94 7 gridIn;
#X floatatom 436 122 9 0 0 0 midi\ note - - 0;
#X obj 46 219 pack f f;
#X obj 95 596 led_Macros;
#X msg 157 554 clear;
#X msg 79 537 padOff 0;
#N canvas 269 396 942 335 inits 0;
#X obj 187 215 r load;
#X msg 187 239 \; gridPadState const 0;
#X obj 248 215 r clearGridPadState;
#X obj 146 278 array define -yrange 0 1 gridPadState 64;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X restore 11 12 pd inits;
#X obj 157 576 s clearGridPadState;
#X listbox 59 252 20 0 0 0 - - - 0;
#X obj 210 78 hsl 162 19 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 326 19 side buttons;
#X obj 132 100 * 1;
#X msg 612 550 3 3;
#X msg 576 550 2 3;
#X obj 834 413 f;
#X obj 863 414 + 1;
#X floatatom 863 441 5 0 0 0 - - - 0;
#X floatatom 853 544 5 0 0 0 - - - 0;
#X obj 853 520 % 8;
#X msg 937 395 0;
#X obj 893 544 % 8;
#X floatatom 892 566 5 0 0 0 - - - 0;
#X obj 854 591 pack;
#X obj 542 758 pack f 127;
#X msg 620 724 127;
#X obj 863 464 t f f;
#X obj 893 520 div 8;
#X text 441 98 turn grid midi in into x y coords;
#X msg 542 550 7 7;
#X obj 919 420 % 68;
#X obj 919 444 sel 0;
#X msg 588 725 0;
#X obj 834 389 until;
#X obj 834 365 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 854 743 pack f 0;
#X floatatom 1003 692 5 0 127 0 - - - 0;
#X text 811 332 spam all grid buttons;
#X obj 436 147 gridToXYArray;
#X obj 542 667 xyToGrid;
#X floatatom 606 699 5 0 0 0 - - - 0;
#X text 569 630 from x \, y to pad midi note \; or array index;
#X obj 919 468 t b b;
#X obj 968 329 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 968 353 metro 100;
#X text 645 698 array index;
#X text 927 539 array index to x y;
#N canvas 0 156 864 631 makeGridNotes 0;
#X obj 114 148 f;
#X floatatom 143 176 5 0 0 0 - - - 0;
#X floatatom 99 279 5 0 0 0 - - - 0;
#X obj 99 255 % 8;
#X obj 173 279 % 8;
#X floatatom 172 301 5 0 0 0 - - - 0;
#X obj 173 255 div 8;
#X obj 199 155 % 68;
#X obj 199 179 sel 0;
#X obj 114 79 until;
#X obj 114 55 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 199 203 t b b;
#X text 207 274 array index to x y;
#X obj 143 199 t f f f;
#X obj 269 457 array set gridNotesTMP;
#X obj 89 122 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 172 332 * 5;
#X floatatom 99 424 5 0 0 0 - - - 0;
#X obj 524 44 array define -k -yrange 0 127 gridNotesTMP 64;
#A 0 74 91 93 95 97 99 101 103 84 86 88 90 92 94 96 98 79 81 83 85 87 89 91 93 74 76 78 80 82 84 86 88 69 71 73 75 77 79 81 83 64 66 68 70 72 74 76 78 59 61 63 65 67 69 71 73 54 56 58 60 62 64 66 68;
#X obj 100 339 -;
#X msg 672 71 \; gridNotesTMP const 0;
#X obj 143 149 + 1;
#X obj 294 248 mod 64;
#X obj 115 29 loadbang;
#X obj 100 315 * 2;
#X msg 354 93 5;
#X msg 355 70 2;
#X obj 99 400 + 74;
#X obj 264 24 inlet;
#X obj 264 48 t b f;
#X msg 294 114 \$1;
#X text 308 27 note at [0 \, 0];
#X obj 451 458 outlet;
#X obj 294 138 t f f;
#X msg 263 115 74;
#X text 384 74 semitones up horizontal \; semitones up vertical;
#X text 496 433 note at [0 \, 0] (for transposition;
#X connect 0 0 21 0;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 1 0 13 0;
#X connect 2 0 24 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 16 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 11 1 9 1;
#X connect 13 0 3 0;
#X connect 13 1 6 0;
#X connect 13 2 22 0;
#X connect 15 0 0 0;
#X connect 16 0 19 1;
#X connect 17 0 14 0;
#X connect 19 0 27 0;
#X connect 21 0 0 1;
#X connect 22 0 14 1;
#X connect 23 0 10 0;
#X connect 23 0 34 0;
#X connect 24 0 19 0;
#X connect 25 0 16 1;
#X connect 26 0 24 1;
#X connect 27 0 17 0;
#X connect 28 0 29 0;
#X connect 29 0 10 0;
#X connect 29 1 30 0;
#X connect 30 0 33 0;
#X connect 33 0 27 1;
#X connect 33 1 32 0;
#X connect 34 0 33 0;
#X restore 323 396 pd makeGridNotes;
#X obj 338 207 array get gridNotesTMP;
#X floatatom 338 231 5 0 0 0 - - - 0;
#X obj 854 720 xyToGrid;
#X floatatom 323 333 5 34 113 0 - - - 0;
#X text 309 310 range: 34-113;
#X text 331 374 programatically make note array \;;
#X floatatom 323 420 5 0 0 0 - - - 0;
#X obj 273 466 f;
#X obj 273 518 +;
#X obj 375 464 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 332 465 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 332 488 t b b;
#X floatatom 273 542 5 0 0 0 - - - 0;
#X obj 375 488 t b b;
#X text 393 465 transpose up;
#X msg 331 510 -5;
#X msg 385 510 5;
#X text 374 423 TODO: limit transposition \; clear midi on tranny;
#X text 571 12 For Volca Specific stuff \, remember the custom firmware \; https://www.reddit.com/r/volcas/comments/dj7f7v/volca_fm_firmware_108_unofficial_velocity_on_note/?utm_source=share&utm_medium=web2x;
#X obj 19 334 noteout 1;
#X obj 15 107 noteout 17;
#X obj 854 766 noteout 17;
#X obj 542 781 noteout 17;
#X text 825 92 Roland UM 1 midi channel 1 launchpadMini midi channel 17;
#X obj 571 163 clockOut;
#X msg 226 179 250;
#X obj 255 208 midiout 1;
#X msg 260 179 252;
#X obj 242 43 route 8 24 40 56 72 88 104 120;
#N canvas 99 397 450 300 hyst 0;
#X obj 114 26 inlet;
#X obj 114 50 t b b;
#X obj 153 127 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 114 149 spigot;
#X obj 146 72 delay 30;
#X obj 165 100 loadbang;
#X obj 114 173 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 4 0;
#X connect 2 0 3 1;
#X connect 3 0 6 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X restore 204 139 pd hyst;
#N canvas 99 397 450 300 hyst 0;
#X obj 114 26 inlet;
#X obj 114 50 t b b;
#X obj 153 127 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 114 149 spigot;
#X obj 146 72 delay 30;
#X obj 165 100 loadbang;
#X obj 114 173 outlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 4 0;
#X connect 2 0 3 1;
#X connect 3 0 6 0;
#X connect 4 0 2 0;
#X connect 5 0 2 0;
#X restore 260 140 pd hyst;
#X text 573 139 make this usable for Pi;
#X text 2 62 grid state needs to be checked so it can return to same colour if already colloured.;
#X connect 0 0 67 0;
#X connect 0 0 75 0;
#X connect 0 1 11 0;
#X connect 0 1 67 1;
#X connect 1 0 37 0;
#X connect 2 0 8 0;
#X connect 2 0 66 0;
#X connect 4 0 3 0;
#X connect 4 0 7 0;
#X connect 5 0 3 0;
#X connect 9 0 11 1;
#X connect 11 0 2 1;
#X connect 12 0 38 0;
#X connect 13 0 38 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 0 14 1;
#X connect 16 0 25 0;
#X connect 16 0 29 0;
#X connect 17 0 22 0;
#X connect 18 0 17 0;
#X connect 19 0 14 0;
#X connect 20 0 21 0;
#X connect 21 0 22 1;
#X connect 22 0 49 0;
#X connect 23 0 69 0;
#X connect 24 0 23 1;
#X connect 25 0 18 0;
#X connect 25 1 26 0;
#X connect 26 0 20 0;
#X connect 28 0 38 0;
#X connect 29 0 30 0;
#X connect 30 0 41 0;
#X connect 31 0 23 1;
#X connect 32 0 14 0;
#X connect 33 0 32 0;
#X connect 34 0 68 0;
#X connect 35 0 34 1;
#X connect 37 1 47 0;
#X connect 38 0 23 0;
#X connect 38 1 39 0;
#X connect 41 0 19 0;
#X connect 41 1 32 1;
#X connect 42 0 43 0;
#X connect 43 0 33 0;
#X connect 46 0 53 0;
#X connect 47 0 48 0;
#X connect 48 0 2 0;
#X connect 49 0 34 0;
#X connect 50 0 46 0;
#X connect 53 0 54 1;
#X connect 54 0 55 0;
#X connect 55 0 59 0;
#X connect 55 0 54 1;
#X connect 56 0 60 0;
#X connect 57 0 58 0;
#X connect 58 0 54 0;
#X connect 58 1 62 0;
#X connect 59 0 50 0;
#X connect 60 0 54 0;
#X connect 60 1 63 0;
#X connect 62 0 55 1;
#X connect 63 0 55 1;
#X connect 72 0 73 0;
#X connect 74 0 73 0;
#X connect 75 0 76 0;
#X connect 75 1 77 0;
#X connect 75 8 1 0;
#X connect 76 0 72 0;
#X connect 77 0 74 0;
